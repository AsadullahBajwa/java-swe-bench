diff --git a/mockwebserver/src/test/java/mockwebserver3/RecordedRequestTest.kt b/mockwebserver/src/test/java/mockwebserver3/RecordedRequestTest.kt
index 71748e3d4481..961bc2110003 100644
--- a/mockwebserver/src/test/java/mockwebserver3/RecordedRequestTest.kt
+++ b/mockwebserver/src/test/java/mockwebserver3/RecordedRequestTest.kt
@@ -21,6 +21,7 @@ import assertk.assertions.isEqualTo
 import java.net.InetAddress
 import java.net.Socket
 import mockwebserver3.internal.DEFAULT_REQUEST_LINE_HTTP_1
+import mockwebserver3.internal.MockWebServerSocket
 import mockwebserver3.internal.RecordedRequest
 import mockwebserver3.internal.decodeRequestLine
 import okhttp3.Headers
@@ -35,9 +36,11 @@ class RecordedRequestTest {
 
   @Test fun testIPv4() {
     val socket =
-      FakeSocket(
-        localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
-        localPort = 80,
+      MockWebServerSocket(
+        FakeSocket(
+          localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
+          localPort = 80,
+        ),
       )
     val request = RecordedRequest(DEFAULT_REQUEST_LINE_HTTP_1, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
     assertThat(request.url.toString()).isEqualTo("http://127.0.0.1/")
@@ -45,9 +48,11 @@ class RecordedRequestTest {
 
   @Test fun testAuthorityForm() {
     val socket =
-      FakeSocket(
-        localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
-        localPort = 80,
+      MockWebServerSocket(
+        FakeSocket(
+          localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
+          localPort = 80,
+        ),
       )
     val requestLine = decodeRequestLine("CONNECT example.com:8080 HTTP/1.1")
     val request = RecordedRequest(requestLine, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
@@ -57,9 +62,11 @@ class RecordedRequestTest {
 
   @Test fun testAbsoluteForm() {
     val socket =
-      FakeSocket(
-        localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
-        localPort = 80,
+      MockWebServerSocket(
+        FakeSocket(
+          localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
+          localPort = 80,
+        ),
       )
     val requestLine = decodeRequestLine("GET http://example.com:8080/index.html HTTP/1.1")
     val request = RecordedRequest(requestLine, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
@@ -69,9 +76,11 @@ class RecordedRequestTest {
 
   @Test fun testAsteriskForm() {
     val socket =
-      FakeSocket(
-        localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
-        localPort = 80,
+      MockWebServerSocket(
+        FakeSocket(
+          localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
+          localPort = 80,
+        ),
       )
     val requestLine = decodeRequestLine("OPTIONS * HTTP/1.1")
     val request =
@@ -91,13 +100,15 @@ class RecordedRequestTest {
 
   @Test fun testIpv6() {
     val socket =
-      FakeSocket(
-        localAddress =
-          InetAddress.getByAddress(
-            "::1",
-            byteArrayOf(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1),
-          ),
-        localPort = 80,
+      MockWebServerSocket(
+        FakeSocket(
+          localAddress =
+            InetAddress.getByAddress(
+              "::1",
+              byteArrayOf(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1),
+            ),
+          localPort = 80,
+        ),
       )
     val request = RecordedRequest(DEFAULT_REQUEST_LINE_HTTP_1, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
     assertThat(request.url.toString()).isEqualTo("http://[::1]/")
@@ -105,9 +116,11 @@ class RecordedRequestTest {
 
   @Test fun testUsesLocal() {
     val socket =
-      FakeSocket(
-        localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
-        localPort = 80,
+      MockWebServerSocket(
+        FakeSocket(
+          localAddress = InetAddress.getByAddress("127.0.0.1", byteArrayOf(127, 0, 0, 1)),
+          localPort = 80,
+        ),
       )
     val request = RecordedRequest(DEFAULT_REQUEST_LINE_HTTP_1, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
     assertThat(request.url.toString()).isEqualTo("http://127.0.0.1/")
@@ -116,13 +129,15 @@ class RecordedRequestTest {
   @Test fun testHostname() {
     val headers = headersOf("Host", "host-from-header.com")
     val socket =
-      FakeSocket(
-        localAddress =
-          InetAddress.getByAddress(
-            "host-from-address.com",
-            byteArrayOf(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1),
-          ),
-        localPort = 80,
+      MockWebServerSocket(
+        FakeSocket(
+          localAddress =
+            InetAddress.getByAddress(
+              "host-from-address.com",
+              byteArrayOf(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1),
+            ),
+          localPort = 80,
+        ),
       )
     val request = RecordedRequest(DEFAULT_REQUEST_LINE_HTTP_1, headers, emptyList(), 0, ByteString.EMPTY, 0, 0, socket)
     assertThat(request.url.toString()).isEqualTo("http://host-from-header.com/")
