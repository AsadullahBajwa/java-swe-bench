diff --git a/codec-classes-quic/src/main/java/io/netty/handler/codec/quic/QuicheQuicCodec.java b/codec-classes-quic/src/main/java/io/netty/handler/codec/quic/QuicheQuicCodec.java
index 51dabbaec2a..19c8f2dfe39 100644
--- a/codec-classes-quic/src/main/java/io/netty/handler/codec/quic/QuicheQuicCodec.java
+++ b/codec-classes-quic/src/main/java/io/netty/handler/codec/quic/QuicheQuicCodec.java
@@ -82,7 +82,7 @@ protected final QuicheQuicChannel getChannel(ByteBuffer key) {
 
     private void addMapping(QuicheQuicChannel channel, ByteBuffer id) {
         QuicheQuicChannel ch = connectionIdToChannel.put(id, channel);
-        assert ch == null;
+        assert ch == null || ch == channel;
     }
 
     private void removeMapping(QuicheQuicChannel channel, ByteBuffer id) {
